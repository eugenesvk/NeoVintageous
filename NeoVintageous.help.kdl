/* See â€˜NeoVintageous.help.kdlâ€™ for an example
  (run â€˜NeoVintageous: Open new config file example (KDL)â€™ in Command Palette)
  See  â€˜NeoVintageous.keymap-default.kdlâ€™ for a list of default keybinds
  (run â€˜NeoVintageous: Dump default keymap as KDLâ€™ in Command Palette to generate it)
  To reload run â€˜NeoVintageous: Reload config"â€™ in Command Palette

  Install â€˜KDLâ€™ package for syntax highlighting
  // Comment /*block/inline comment*/  /-node comment to disable the whole section
  Node names are CaSe, â whitespaceâ­¾, and _.separator- insensitive: keymap = key-map = key_map = "key map"
  (except for â€˜keybindâ€™ and â€˜eventâ€™ where such characters matter for keys/cli commands)
*/
#v 0.1 // config format version to hopefully allow updates without breaking existing configs (â€˜#â€™ is optional)
#import (keybind)"NeoVintageous.key.kdl"
  /* import file name â†‘ relative to this main config file (â€˜#â€™ is optional)
    group  â†‘ values in â€˜keybind{}â€™, so the file itself can include only top-level â€˜key commandâ€™ lines
  */

keymap { // Use custom keymaps (non-QWERTY/non-Latin) in command mode
  // 1. add "lower"/"upper" keymaps below that match the position of QWERTY symbols
  // 2. Run command "NeoVintageous: Generate non-QWERTY key bindings"
  // (doesn't work for key combinations pending resolution of https://github.com/sublimehq/sublime_text/issues/5980)
  /-qwerty  	r#"`12 34567890-=\ qwertyuiop[] asdfghjkl;' zxcvbnm,./"#
  lower     	r#"Ñ‘12 34567890-=\ Ğ¹Ñ†ÑƒĞºĞµĞ½Ğ³ÑˆÑ‰Ğ·Ñ…ÑŠ Ñ„Ñ‹Ğ²Ğ°Ğ¿Ñ€Ğ¾Ğ»Ğ´Ğ¶Ñ ÑÑ‡ÑĞ¼Ğ¸Ñ‚ÑŒĞ±Ñ."#
  upper     	r#"Ğ!@ #$%^&*()_+| Ğ™Ğ¦Ğ£ĞšĞ•ĞĞ“Ğ¨Ğ©Ğ—Ğ¥Ğª Ğ¤Ğ«Ğ’ĞĞŸĞ ĞĞ›Ğ”Ğ–Ğ­ Ğ¯Ğ§Ğ¡ĞœĞ˜Ğ¢Ğ¬Ğ‘Ğ®?"#
  /-qwerty  	r#"~!@ #$%^&*()_+| QWERTYUIOP{} ASDFGHJKL:" ZXCVBNM<>?"#
  /-upper   	r#"Ğ!\"â„–;%:?*()_+/ Ğ™Ğ¦Ğ£ĞšĞ•ĞĞ“Ğ¨Ğ©Ğ—Ğ¥Ğª Ğ¤Ğ«Ğ’ĞĞŸĞ ĞĞ›Ğ”Ğ–Ğ­ Ğ¯Ğ§Ğ¡ĞœĞ˜Ğ¢Ğ¬Ğ‘Ğ®,"# // remap some symbols to same to avoid issues with losing them in regular latin keybinds like ; being remapped to $ since â‡§4 is translated to ; in Ru
  alias true	// 3. allows using `map Ğ¹ w` in .neovintageous to map non-latin keys separately from latin ones
  // assigns to each command an extra keybind in alt layout so that said key can be used in the TO sublime-keymap field
}
edit { // Edit behavior |default|
  move_left_on_insert_exit false	//|true| move cursor left on â“˜â†’â“ƒ to be consistent with line-end editing vimhelp.org/vim_faq.txt.html#faq-10.2
}
event { /* Run cli commands on entering/leaving a mode by adding
  (mode)Event {(os)cmd "arg1" "arg2";}
  Mode 	: Normal Insert Replace Select Visual VisualBlock VisualLine (see â€˜statusâ€™ for abbreviations)
  Event	: in enter     out exit leave
  OS   	: âŒ˜ ï£¿ ğŸ m mac osx macos     ğŸ§ l lin linux     ğŸªŸ ğŸ—” âŠ w win windows
  */              //â†“ CaSe, â whitespaceâ­¾, and _.separator- sensitive
  (â“˜)in   	{(mac)"~/.local/bin/karabiner_cli" "--set-variables" r#"{"isNVâ“˜":1}"#;}
  (â“˜)out  	{(mac)"~/.local/bin/karabiner_cli" "--set-variables" r#"{"isNVâ“˜":0}"#;}
  /-(n)in 	{(mac)"~/.local/bin/karabiner_cli" "--set-variables" r#"{"isNVâ“ƒ":1}"#;}
  /-(n)out	{(mac)"~/.local/bin/karabiner_cli" "--set-variables" r#"{"isNVâ“ƒ":0}"#;}
}
status { // Set values/reorder the status bar mode indicator, indicator format is '<prefix><Mode><suffix>', where Mode's name can be either of the space-separated values:
  /*normal     	â“ƒ N
    insert     	â“˜ I
    command    	â’¸ C
    visual     	â“‹ V
    visualblock	â–‹ VB
    visualline 	â” VL
    select     	â“ˆ S
    operator   	â“„ O
    terminal   	â“‰ T
    replace    	â“‡ R
    â“‚ M        	 map
               	 map!
    â“ L        	//
    â“ X        	//
  so â€˜insert "â“˜"â€™ would set Insert's mode indicator to â“˜, but so would â€˜I "â“˜"â€™
  */
  prefix 	""; suffix ""
  insert 	"â“˜"
  normal 	"â€ƒ"         	// space roughly the width of an indicator to avoid jitter on mode change
  id_mode	"00_nv_mode"	// '00_mode' number defines order priority of custom status bar statuses, so 00 should be left-most
  id_seq 	"vim-seq"
}; /-status insert="â“˜" // prop=val format also works
indicator { // Set various indicator format
  ls { // Set values for â€˜lsâ€™ command indicators |default|
    current    	"â€¢"	//|%|        	The buffer in the current window
    modified   	"ğŸ–‰"	//|+|        	Modified buffer
    read_only  	"ğŸ‘“"	//|=|        	Readonly buffer
    active     	"ğŸ‘"	//|a|        	Active   buffer: loaded and visible
    hidden     	" "	//|h|        	Hidden   buffer: loaded but invisible
    line       	"â”"	//|line |    	Line prefix
    no_name    	"" 	//|[NO NAME]|	Name for a tab without a file
    file_qleft 	"" 	//|"|        	File name left  quote
    file_qright	"" 	//|"|        	File name right quote
  }; /-ls current="â€¢" // prop=val format also works
  registers { // Set values for â€˜registersâ€™ command indicators
    char	"c"	// Characterwise text
    line	"â”"	// Linewise      text
  }; /-registers char="c" line="â”â”" // prop=val format also works
}
plugin {
  surround { // Use custom brackets in Surround plugin
    punctuation_marks\/* add to default (){}[]<>*/
      â€˜="â€˜â€™" â€œ="â€œâ€" â€™="â€˜â€™" â€="â€œâ€" \
      â€¹="â€¹â€º" Â«="Â«Â»" â€º="â€¹â€º" Â»="Â«Â»" \
      âŒ©="âŒ©âŒª"   âŸª="âŸªâŸ«" âŒª="âŒ©âŒª"   âŸ«="âŸªâŸ«" \
      `'="`' '"\/*use space as a separator of the left vs right groups*/
      ã€”="ã€”ã€•" ã€•="ã€”ã€•"\
      â¸¨="â¸¨â¸©" â¸©="â¸¨â¸©"\
      ã€="ã€ã€‘" ã€‘="ã€ã€‘"\
      ã€Œ="ã€Œã€" ã€="ã€Œã€"\
      âŒ="âŒâŒ"; /-punctuation_marks {â€˜ "â€˜â€™"; â€œ "â€œâ€";} //key val child node format also works
    punctuation-alias "clear"/*clear defaults b) B} r] a>*/\
      d="(" f="[" g="â€˜" h="â€œ"\
      j="{" k="\"" l="'"\
      r="â€¹" t="Â«" y="`'" o="ã€”" p="âŒ"\
      z="â¸¨" n="ã€" m="ã€Œ" " "="âŒ©" .="âŸª"; /-punctuation_alias {clear; d "(";} //key val child node format also works
    "append space to chars" ")}]" // "({["
    steady_cursor add=true delete=true replace=true // don't 'move' â€cursor to the changed punctuation:
      // surround-word add of â€˜(â€™ in  â€˜text_â€surrâ€™  results in â€˜(text_â€surr)â€™
        //                                                not â€˜â€(text_surr)â€™
      // surround   delete of â€˜(â€™ in â€˜(text_â€surr)â€™ results in  â€˜text_â€surrâ€™
        //                                                 not â€˜â€text_surrâ€™
      // surround  replace of â€˜(â€™ in â€˜(text_â€surr)â€™ results in  â€˜[text_â€surr]â€™
        //               with â€˜[â€™                          not â€˜â€[text_surr]â€™
    /-steady_cursor {add true; replace true; delete true;} //key val child node format also works
    seek_forward false /* When looking for brackets, if the current text is NOT enclosed in them, but Targets plugin is enabled, seek the next pair of brackets, for example (â€ is cursor position):
        â€a(b)  with surround delete of ( will result in:
        â€ab       if SEEK_FORWARD is true : the next pair of () after â€ found and deleted
        â€a(b)     if SEEK_FORWARD is false: the next pair of () is ignored
      */
  }
}
